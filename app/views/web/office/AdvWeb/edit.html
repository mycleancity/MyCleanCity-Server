#{extends 'main.html' /}
#{set title:'Advertisement' /}

<div class="row">
	<div class="col-sm-12">
	    <section class="panel">
	        <header class="panel-heading">
	            Edit Advertisement
	        </header>
	        <div class="panel-body">
	            #{form @web.AdvWeb.update(), method:'POST', class:'form-horizontal bucket-form cmxform', id:'update-form', enctype:'multipart/form-data'}
	              <input type="hidden" name="id" value="${adv.id}">
	              <div class="form-group">
	                  <label class="col-lg-3 control-label">Caption</label>
	                  <div class="col-lg-8">
	                  	<input type="text" class="form-control" name="caption" id="caption" value="${adv.caption}" required>
	                  </div>
	              </div>
	              <div class="form-group">
                      <label class="col-lg-3 control-label">Story</label>
                      <div class="col-lg-8">
                          <textarea class="form-control" rows="6" name="story" id="story" required>${adv.story}</textarea>
                      </div>
                  </div>
                  <div class="form-group">
                      <label class="col-lg-3 control-label">Period</label>
                      <div class="col-lg-8">
                          <div class="input-group input-large">
                              <input type="text" class="form-control dpd1" name="start" id="start" value="${adv.start.format('MM/dd/yyyy')}" required>
                              <span class="input-group-addon">To</span>
                              <input type="text" class="form-control dpd2" name="end" id="end" value="${adv.end.format('MM/dd/yyyy')}" required>
                          </div>
                      </div>
                  </div>
	              <div class="form-group">
	                  <label class="col-lg-3 control-label">URL</label>
	                  <div class="col-lg-8">
	                      <input type="url" class="form-control" name="url" id="url" value="${adv.url}" required>
	                  </div>
	              </div>
	              <div class="form-group">
	                  <label class="col-lg-3 control-label">Row</label>
	                  <div class="col-lg-8">
	                      <input type="number" class="form-control" name="row" id="row" value="${adv.row}" required>
	                  </div>
	              </div>
	              <div class="form-group">
                      <label class="col-lg-3 control-label">Photo</label>
                      <div class="col-lg-8">
                        <input type="file" class="form-control" name="photo" id="photo" >
                        <p class="help-block">Recommended Size 1400 * 1200</p>
                    	<p class="help-block"><img width="100" src="${adv.photo.url('200')}"></p>
                      </div>
                  </div>
	              <div class="form-group">
	                  <div class="col-lg-offset-3 col-lg-8">
	                      <button type="submit" class="btn btn-info">Update</button>
	                  </div>
	              </div>
	            #{/form}
	        </div>
	    </section>
	</div>
</div>

#{set 'moreStyles'}
<link rel="stylesheet" type="text/css" href="@{'/public/BucketAdmin/js/bootstrap-datepicker/css/datepicker.css'}" />
<link rel="stylesheet" type="text/css" href="@{'/public/BucketAdmin/js/bootstrap-daterangepicker/daterangepicker-bs3.css'}" />
#{/set}

#{set 'moreScripts'}
<script src="@{'/public/BucketAdmin/js/bootstrap-datepicker/js/bootstrap-datepicker.js'}"></script>
<script src="@{'/public/BucketAdmin/js/bootstrap-daterangepicker/moment.min.js'}"></script>
<script src="@{'/public/BucketAdmin/js/bootstrap-daterangepicker/daterangepicker.js'}"></script>
<script src="@{'/public/BucketAdmin/js/advanced-form.js'}"></script>
<script src="@{'/public/BucketAdmin/js/jquery.validate.min.js'}"></script>
<script>
  var Script = function () {

    $().ready(function() {
      // validate signin form on keyup and submit
      $("#update-form").validate({
          rules: {
              caption: {
                  required: true
              },
              story: {
                  required: true
              },
              start: {
                  required: true
              },
              end: {
                  required: true
              },
              url: {
                  required: true
              },
              row: {
                  required: true
              }
          },
          messages: {
              caption: {
                  required: "Please enter a caption"
              },
              story: {
                  required: "Please provide a story"
              },
              start: {
                  required: "Please provide a start date"
              },
              end: {
                  required: "Please provide an end date"
              },
              url: {
                  required: "Please enter an url"
              },
              row: {
                  required: "Please enter a row"
              }
          }
      });
    });
  }();
</script>
#{/set}